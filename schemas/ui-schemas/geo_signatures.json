{
    "$validator": "/dcic/signature-commons-schema/v5/core/schema.json",
    "id": "4779c955-a065-561b-9739-59a4c9381e17",
    "meta": {
      "match": {
        "${$validator}": "/@?dcic/signature-commons-schema/(v[0-9]+/)?core/signature.json",
        "${meta.$validator}": "https://raw.githubusercontent.com/MaayanLab/sigcom-lincs/main/validators/geo_signatures.json"
      },
      "$validator": "/dcic/signature-commons-schema/v6/meta/schema/ui-schema.json",
      "properties": {
        "GSE": {
          "text": "${meta.GSE}",
          "type": "text",
          "priority": 0,
          "visibility": 1
        },
        "Dataset": {
          "text": "${library.meta.library}",
          "type": "subtitle",
          "priority": 1,
          "visibility": 1
        },
        "Options": {
          "icon": "mdi-dots-vertical",
          "text": "More options",
          "type": "component",
          "props": {
            "options": {
              "type": "prop-array",
              "items": [
                {
                  "type": "prop-object",
                  "properties": {
                    "href": {
                      "text": "#SignatureSearch/Rank/${id}",
                      "type": "text"
                    },
                    "icon": {
                      "text": "mdi-magnify-scan",
                      "type": "text"
                    },
                    "label": {
                      "text": "Perform Signature Search",
                      "type": "text"
                    }
                  }
                },
                {
                  "type": "prop-object",
                  "properties": {
                    "icon": {
                      "text": "mdi-download",
                      "type": "text"
                    },
                    "label": {
                      "text": "Download Up and Down Genes",
                      "type": "text"
                    },
                    "onClick": {
                      "type": "function",
                      "props": {
                        "type": "prop-object",
                        "properties": {
                          "entry": {
                            "text": "${id}",
                            "type": "text"
                          },
                          "model": {
                            "text": "signatures",
                            "type": "text"
                          },
                          "schemas": {
                            "type": "schemas"
                          },
                          "resolver": {
                            "type": "resolver"
                          }
                        }
                      },
                      "function": "download_signature"
                    }
                  }
                },
                {
                  "type": "prop-object",
                  "properties": {
                    "alt": {
                      "text": "Enrichr",
                      "type": "text"
                    },
                    "src": {
                      "text": "./static/images/enrichr.png",
                      "type": "text"
                    },
                    "label": {
                      "text": "Top 100 Up to Enrichr",
                      "type": "text"
                    },
                    "onClick": {
                      "type": "function",
                      "props": {
                        "type": "prop-object",
                        "properties": {
                          "entry": {
                            "text": "${id}",
                            "type": "text"
                          },
                          "model": {
                            "text": "signatures",
                            "type": "text"
                          },
                          "schemas": {
                            "type": "schemas"
                          },
                          "resolver": {
                            "type": "resolver"
                          },
                          "direction": {
                            "text": "up",
                            "type": "text"
                          }
                        }
                      },
                      "function": "send_to_enrichr"
                    }
                  }
                },
                {
                  "type": "prop-object",
                  "properties": {
                    "alt": {
                      "text": "Enrichr",
                      "type": "text"
                    },
                    "src": {
                      "text": "./static/images/enrichr.png",
                      "type": "text"
                    },
                    "label": {
                      "text": "Top 100 Down to Enrichr",
                      "type": "text"
                    },
                    "onClick": {
                      "type": "function",
                      "props": {
                        "type": "prop-object",
                        "properties": {
                          "entry": {
                            "text": "${id}",
                            "type": "text"
                          },
                          "model": {
                            "text": "signatures",
                            "type": "text"
                          },
                          "schemas": {
                            "type": "schemas"
                          },
                          "resolver": {
                            "type": "resolver"
                          },
                          "direction": {
                            "text": "down",
                            "type": "text"
                          }
                        }
                      },
                      "function": "send_to_enrichr"
                    }
                  }
                }
              ]
            }
          },
          "location": "right",
          "priority": 11,
          "component": "options",
          "visibility": 1
        },
        "Download": {
          "icon": "mdi-download",
          "text": "Download",
          "type": "component",
          "props": {
            "data": {
              "type": "prop-array",
              "items": [
                {
                  "type": "prop-object",
                  "properties": {
                    "icon": {
                      "text": "mdi-download",
                      "type": "text"
                    },
                    "text": {
                      "text": "Download Up and Down Genes",
                      "type": "text"
                    },
                    "onClick": {
                      "type": "function",
                      "props": {
                        "type": "prop-object",
                        "properties": {
                          "entry": {
                            "text": "${id}",
                            "type": "text"
                          },
                          "model": {
                            "text": "signatures",
                            "type": "text"
                          },
                          "schemas": {
                            "type": "schemas"
                          },
                          "resolver": {
                            "type": "resolver"
                          }
                        }
                      },
                      "function": "download_signature"
                    }
                  }
                }
              ]
            }
          },
          "location": "right",
          "priority": 12,
          "component": "download",
          "visibility": 0
        },
        "FDR (up)": {
          "icon": "mdi-notebook-multiple",
          "text": "${scores['FDR (up)']}",
          "type": "score",
          "field": "scores['FDR (up)']",
          "priority": 7,
          "visibility": 0
        },
        "FDR (down)": {
          "icon": "mdi-notebook-multiple",
          "text": "${scores['FDR (down)']}",
          "type": "score",
          "field": "scores['FDR (down)']",
          "priority": 8,
          "visibility": 0
        },
        "p-value (up)": {
          "icon": "mdi-notebook-multiple",
          "text": "${scores['p-value (up)']}",
          "type": "score",
          "field": "scores['p-value (up)']",
          "priority": 3,
          "visibility": 0
        },
        "z-score (up)": {
          "icon": "mdi-notebook-multiple",
          "text": "${scores['z-score (up)']}",
          "type": "score",
          "field": "scores['z-score (up)']",
          "priority": 5,
          "visibility": 1
        },
        "Signature Name": {
          "text": "${meta.sig_id}",
          "type": "title",
          "priority": 1,
          "visibility": 0
        },
        "p-value (down)": {
          "icon": "mdi-notebook-multiple",
          "text": "${scores['p-value (down)']}",
          "type": "score",
          "field": "scores['p-value (down)']",
          "priority": 4,
          "visibility": 0
        },
        "z-score (down)": {
          "icon": "mdi-notebook-multiple",
          "text": "${scores['z-score (down)']}",
          "type": "score",
          "field": "scores['z-score (down)']",
          "priority": 6,
          "visibility": 1
        },
        "z-score (sum)": {
          "text": "${scores['z-score (sum)']}",
          "type": "score",
          "field": "scores['z-score (sum)']",
          "icon": "mdi-notebook-multiple",
          "priority": 9,
          "visibility": 1
        },
        "log p-val (avg)": {
          "icon": "mdi-notebook-multiple",
          "text": "${scores['log p (avg)']}",
          "type": "score",
          "field": "scores['log p (avg)']",
          "priority": 2,
          "visibility": 0
        },
        "log p-val (Fisher)": {
          "icon": "mdi-notebook-multiple",
          "text": "${scores['log p (Fisher)']}",
          "type": "score",
          "field": "scores['log p (Fisher)']",
          "priority": 1,
          "visibility": 0
        },
        "p-value Bonferroni (up)": {
          "icon": "mdi-notebook-multiple",
          "text": "${scores['p-value Bonferroni (up)']}",
          "type": "score",
          "field": "scores['p-value Bonferroni (up)']",
          "priority": 9,
          "visibility": 0
        },
        "p-value Bonferroni (down)": {
          "icon": "mdi-notebook-multiple",
          "text": "${scores['p-value Bonferroni (down)']}",
          "type": "score",
          "field": "scores['p-value Bonferroni (down)']",
          "priority": 10,
          "visibility": 0
        }
      }
    }
  }