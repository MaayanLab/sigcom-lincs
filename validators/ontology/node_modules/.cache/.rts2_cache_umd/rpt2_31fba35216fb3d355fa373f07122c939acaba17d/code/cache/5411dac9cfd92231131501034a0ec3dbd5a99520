{"code":"import fetch from 'node-fetch';\r\nimport { strict as assert } from 'assert'; // node env v 9 did not support \"import assert...\"\r\nasync function mapToUniPort(meta) {\r\n    const { tissue, anatomy } = meta;\r\n    const url = `https://www.ebi.ac.uk/ols/api/select?q=${anatomy}`;\r\n    const { response } = await (await fetch(url, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n        },\r\n    })).json();\r\n    return response.docs.filter(r => r.obo_id === anatomy && r.label === tissue);\r\n}\r\nexport default async function validator(meta) {\r\n    let proteins = await mapToUniPort(meta);\r\n    assert.notEqual(proteins.length, 0);\r\n    //if no entries found then input does not correspond to a protein in UniProt\r\n    return meta;\r\n}\r\n//# sourceMappingURL=ontology.js.map","references":["/Users/Andrew/Erol/LINCS/sigcom-lincs/validators/ontology/node_modules/node-fetch/lib/index.js","/Users/Andrew/Erol/LINCS/sigcom-lincs/validators/ontology/node_modules/assert/build/assert.js"],"map":"{\"version\":3,\"file\":\"ontology.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../ontology.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,KAAK,MAAM,YAAY,CAAA;AAC9B,OAAO,EAAC,MAAM,IAAI,MAAM,EAAC,MAAM,QAAQ,CAAA,CAAC,kDAAkD;AAE1F,KAAK,UAAU,YAAY,CAAC,IAAuC;IACjE,MAAM,EAAC,MAAM,EAAE,OAAO,EAAC,GAAG,IAAI,CAAA;IAC9B,MAAM,GAAG,GAAG,0CAA0C,OAAO,EAAE,CAAA;IAC/D,MAAM,EAAC,QAAQ,EAAC,GAAG,MAAM,CAAC,MAAM,KAAK,CAAC,GAAG,EACvC;QACE,MAAM,EAAE,KAAK;QACb,OAAO,EAAE;YACP,QAAQ,EAAE,kBAAkB;SAC7B;KACF,CACF,CAAC,CAAC,IAAI,EAAE,CAAA;IACT,OAAO,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAA,EAAE,CAAA,CAAC,CAAC,MAAM,KAAG,OAAO,IAAI,CAAC,CAAC,KAAK,KAAG,MAAM,CAAC,CAAA;AACxE,CAAC;AAGD,MAAM,CAAC,OAAO,CAAC,KAAK,UAAU,SAAS,CAAC,IAAuC;IAC7E,IAAI,QAAQ,GAAG,MAAM,YAAY,CAAC,IAAI,CAAC,CAAC;IACxC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;IACpC,4EAA4E;IAC5E,OAAO,IAAI,CAAA;AACb,CAAC\"}","dts":{"name":"/Users/Andrew/Erol/LINCS/sigcom-lincs/validators/ontology/dist/ontology.d.ts","writeByteOrderMark":false,"text":"export default function validator(meta: {\r\n    tissue: string;\r\n    anatomy: string;\r\n}): Promise<any>;\r\n"}}
